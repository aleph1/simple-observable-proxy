const e=new WeakMap,t=new WeakMap,o=new WeakMap,n=[],r=e=>{n.push(e)},s=(n,a,c={})=>{let l=e.get(n)||t.has(n)&&n,p=l?t.get(l):[];if("function"!=typeof a||p.includes(a)||p.push(a),!l){const i={get(e,t){const o=e[t];return o&&"object"==typeof o?e[t]=s(o,a,c):o},set:(e,t,o)=>(e[t]!==o&&(e[t]=o,r(p)),!0),deleteProperty:(e,t)=>t in e&&(delete e[t],r(p),!0)};c.revocable?(l=Proxy.revocable(n,i),o.set(l.proxy,l.revoke),l=l.proxy):l=new Proxy(n,i),e.set(n,l),t.set(l,p)}return l},a=()=>{[...new Set(n.flat(1/0))].forEach((e=>{e()})),n.length=0,window.requestAnimationFrame(a)};a(),module.exports={observe:s,unobserve(o,n){let r=t.get(e.get(o)||o);if(r){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}},revoke(t){const n=e.get(t)||t,r=o.get(n);return!!r&&(r(),o.delete(n),!0)}};
const e=new WeakMap,t=new WeakMap,o=new WeakMap,n=new Set;export function observe(r,c,s={}){let a=e.get(r)||t.has(r)&&r,i=a&&t.get(a)||[];if("function"!=typeof c||i.includes(c)||i.push(c),!a){const p={get(e,t){const o=e[t];return o&&"object"==typeof o?e[t]=observe(o,c,s):o},set:(e,t,o)=>(e[t]!==o&&(e[t]=o,n.add(a)),!0),deleteProperty:(e,t)=>t in e&&(delete e[t],n.add(a),!0)};s.revocable?(a=Proxy.revocable(r,p),o.set(a.proxy,a.revoke),a=a.proxy):a=new Proxy(r,p),e.set(r,a),t.set(a,i)}return a}export function unobserve(o,n){let r=t.get(e.get(o)||o);if(r){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}export function revoke(t){const n=e.get(t)||t,r=o.get(n);return!!r&&(r(),o.delete(n),!0)}!function e(){n.forEach((e=>{const o=t.get(e);o&&o.forEach((e=>e()))})),n.clear(),window.requestAnimationFrame(e)}();